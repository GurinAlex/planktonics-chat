<div class="container">
  <form class="form-login" [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-login__title">Войти в чат компании</div>

    <div class="alert" *ngIf="login.error$ | async as error">
      {{error}}
    </div>

    <div class="form-login__input">
      <label for="email">Email</label>
      <input
        id="email"
        type="email"
        formControlName="email"
      />
      <div
        class="form-login__input_validation"
        *ngIf="form.get('email').touched && form.get('email').invalid"
      >
        <small
          *ngIf="form.get('email').errors.required"
        >Введите email</small>

        <small
          *ngIf="form.get('email').errors.email"
        >Введите корректный email</small>
      </div>
    </div>

    <div class="form-login__input">
      <label for="password">Пароль</label>
      <input
        id="password"
        type="password"
        formControlName="password"
      />
      <div
        class="form-login__input_validation"
        *ngIf="form.get('password').touched && form.get('password').invalid"
      >
        <small
          *ngIf="form.get('password').errors.required"
        >Введите пароль</small>

        <small
          *ngIf="form.get('password').errors.minlength"
        >Пароль должен быть не менее
          {{form.get('password').errors.minlength.requiredLength}} символов,
          сейчас он
          {{form.get('password').errors.minlength.actualLength}} символа.
        </small>
      </div>

    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="form.invalid || submitted"
    >Войти</button>
  </form>
</div>



