# Тестовое задание TOT Systems

Текущую версию приложения можно посмотреть по ссылке https://gurinalex.github.io/planktonics-chat/

## Как правильно использовать приложение

После клонирования репозитория необходимо установить все зависимости (npm i), после чего необходимо запустить (ng serve). Для начала работы необходимо пройти по ссылке localhost:4200/. В приложение добавлена возможность авторизации, и чтобы злые конкуренты не смогли подглядывать за деловыми беседами коллег, добавлена защита путей от нежеланных посетителей. На данный момент в приложении есть только один живой пользователь для авторизации (email: boris@gmail.com, password: 123qwe). 
После авторизации пользователь попадает на главную страницу, где его быстро введут в курс дела.
В окне чата пользователь может не только писать сообщеня с добавлением смайликов, но также редактировать и удалять одно или несколько(при удалении) своих сообщений. После редактирования в сообщении появляется пометка об изменении со временем. 

## Архитектура приложения

Для создания приложения были использованы Angular версии 10.1.1. а также библиотека EmojiMart для возможности добавления смайликов в чате, а также firebase для авторизации.
В приложении имеется 2 сервиса: авторизации и сообщений.
- Сервис авторизации включает работу с firebase и отлов всех возможных ошибок авторизации(неверный логин, неверный пароль), работу с сохранением и удалением в localStorage токена и юзернейма.
- Сервис сообщений необходим для хранения локальных массивов сообщений из спам и делового чата, что позволяет сохранить информацию о введенных пользователем новых сообщениях при переходе на разные разделы страницы до перезагрузки сайта.

В файле static-messages.ts содержатся стартовые массивы сообщений для обоих чатов.
В папке shared собраны компоненты и сервисы, которые являются общими для приложения. Одним из таких компонентов являетя main-layout, в котором содержится гибкая навигация по разделам сайта. При отсуствии авторизации в навигации скрываются все ссылки а также добавляется дополнительная защита, которая при попытке зайти на страницу через адресную строку будет совершать редирект на страницу логина.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
